## 도커 컨테이너의 생명 주기

<img width="884" alt="스크린샷 2023-07-12 00 36 55" src="https://github.com/seay0/CS_study/assets/105037141/280c790b-32f6-477d-a166-9d76f9f39e31">


도커 컨테이너의 생명 주기는 크게 네 가지 단계로 구분될 수 있습니다. 


> 생성, 시작, 실행, 종료


1. 생성 : `도커 이미지`를 사용하여 컨테이너를 생성합니다.
- `docker create`
- Create 상태에서는 컨테이너에 파일 스냅샷이 적재된 상태입니다.
2. 시작 : 컨테이너의 메인 프로세스가 시작되며 컨테이너가 실제로 작동하게 합니다.
-  `docker start` 
3. 실행 : 컨테이너가 시작된 뒤, 지정된 작업을 수행하며, 메인 프로세스가 시작됩니다. 아래 명령어로 컨테이너 내부에 접근합니다.
- `docker exec`
4. 종료
- `docker stop` : 현재 동작하고 있는 작업을 종료하고 컨테이너를 중지시킵니다.
- `docker kill` : 현재 무슨 작업을 하고 있던 간에 컨테이너를 종료시킵니다.


### docker run은 생명주기에 속하나요?
좋은 지적입니다. 실제로 `docker run` 명령어는 도커 컨테이너의 생명 주기에서 중요한 부분을 차지하고 있습니다.

- `docker run` = `docker create` + `docker start`
- 'docker run'을 실행하면 도커는 먼저 지정된 이미지를 바탕으로 컨테이너를 생성하고, 그 후에 바로 컨테이너를 시작시킵니다. 그래서 위와 같이 표현을 했습니다.
- 위 사진을 보면 알 수 있듯이 '생성', '시작', '실행'의 단계를 'docker run'을 통해 실행합니다.

## 돌발 추가 질문
1. 도커 이미지와 도커 컨테이너의 차이점은 무엇인가요?
  - 도커 이미지는 어플리케이션 실행에 필요한 모든 파일을 포함하는 스냅샷이라고 할 수 있습니다. 이것은 불변의 특성을 가지며, 이것을 기반으로 컨테이너를 생성합니다.
   반면에 도커 컨테이너는 이미지를 기반으로 실행되는 가상 환경입니다. 컨테이너는 이미지에 정의된 명령을 실행할 수 있는 독립적인 공간입니다.
3. 컨테이너화된 애플리케이션의 장점과 단점은 무엇인가요?
  - 컨테이너화된 애플리케이션의 주요 장점은 환경에 구애받지 않는 이식성, 효율적인 리소스 사용, 스케일링 및 배포의 용이성 등입니다. 하지만 단점으로는 특정 컨테이너 플랫폼에 종속되는 경우, 네트워크 보안과 복잡성 등의 문제가 발생할 수 있습니다.
4. 'docker build' 명령어가 어떤 역할을 하는지 설명해주실 수 있나요?
  - Dockerfile을 읽고 그에 따라 도커 이미지를 생성하는 역할을 합니다. 이 명령어를 실행하면, 도커는 Dockerfile의 각 단계를 실행하며, 결과로 새로운 도커 이미지를 생성하고 저장소에 저장합니다.
5. Docker와 Kubernetes의 연계 작업에 대해 경험이 있나요? 만약 있다면, 그 경험에 대해 설명해주실 수 있을까요?
  - 네, 저는 Docker와 Kubernetes를 함께 사용하는 프로젝트에 참여한 경험이 있습니다. 저희 팀은 도커를 이용해 애플리케이션을 컨테이너화하고, Kubernetes를 사용해 그 컨테이너들을 관리했습니다. 저는 이 과정에서 컨테이너화된 애플리케이션의 배포, 스케일링, 그리고 장애 복구에 관한 귀중한 경험을 쌓았습니다.
6. 'Dockerfile'이 무엇인지, 그리고 그 구성요소에 대해 설명해주세요.
  - Dockerfile은 도커 이미지를 생성하는데 필요한 명령어들을 담고 있는 텍스트 파일입니다. 이 파일에는 기본 이미지 설정, 필요한 소프트웨어 패키지의 설치, 환경 변수 설정, 포트 맵핑, 실행할 명령어 등의 정보가 포함됩니다. Dockerfile을 'docker build' 명령어와 함께 사용하면, 이 안에 정의된 명령어들이 순차적으로 실행되어 새로운 도커 이미지가 생성됩니다.
